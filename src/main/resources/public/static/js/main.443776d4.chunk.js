(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{42:function(e,t,n){e.exports=n(55)},55:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(7),r=n.n(o),u=n(9),s=n(11),i=n(84),l=n(88),f=n(89),m=n(91),p=n(90),b=n(36),h=n.n(b),j=window.location,O=j.hostname,d=j.port,g=j.protocol,E="".concat(g,"//").concat(O,":").concat("3000"===d?8080:d),y="".concat("https:"===g?"wss:":"ws:","//").concat(O,":").concat("3000"===d?8080:d);r.a.render(c.a.createElement((function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),b=Object(s.a)(r,2),j=b[0],O=b[1],d=Object(a.useState)("anonymous"),g=Object(s.a)(d,2),v=g[0],w=g[1],S=Object(a.useMemo)((function(){return{shouldReconnect:function(e){return!0},reconnectAttempts:10,reconnectInterval:3e3}}),[]),k=h()("".concat(y,"/socket"),S),A=Object(s.a)(k,2),J=(A[0],A[1]);Object(a.useEffect)((function(){J&&o((function(e){return[].concat(Object(u.a)(e),[JSON.parse(J.data)])}))}),[J]);return Object(a.useEffect)((function(){fetch("".concat(E,"/api/messages")).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]),c.a.createElement(i.a,null,c.a.createElement(l.a,{container:!0},c.a.createElement(l.a,{item:!0,lg:9},c.a.createElement(f.a,null,n.map((function(e){return c.a.createElement(m.a,{key:e.createdAt},e.createdAt.slice(11,19)," [",e.user,"]: ",e.message)})))),c.a.createElement(l.a,{item:!0,lg:3},c.a.createElement(p.a,{variant:"filled",label:"User",autoFocus:!0,value:v,onChange:function(e){return w(e.target.value)}}),c.a.createElement(p.a,{variant:"filled",label:"Type your message",autoFocus:!0,value:j,onChange:function(e){return O(e.target.value)},onKeyUp:function(e){e.ctrlKey&&e.key&&j.trim()&&function(e,t){return fetch("".concat(E,"/api/message"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({message:e,user:t})})}(j.trim(),v).then((function(){return O("")}))}}))))}),null),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.443776d4.chunk.js.map